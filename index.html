<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOAR DESIGN | ê°ì„±ì„ í’ˆì€ í•˜ì´ì—”ë“œ ì¸í…Œë¦¬ì–´</title>
    <link rel="icon" type="image/png" href="image/logo.png">
    <meta name="description" content="ëª¨ì•„ë¥´ ë””ìì¸ - ê°ì„±ì„ í’ˆì€ í•˜ì´ì—”ë“œ ì¸í…Œë¦¬ì–´. ì˜¤ëŠ˜ì˜ì§‘ ìŠ¤íƒ ë‹¤ë“œ ì—…ì²´.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Pretendard', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
                    },
                },
            },
        }
    </script>

    <!-- Pretendard Font -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">

    <!-- Noto Serif KR Font for Elegant Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

    <style>
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        /* Video Background */
        .video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .video-container iframe {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300vw;
            height: 300vh;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .video-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes logoFloat {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }

        .animate-logo-float {
            animation: logoFloat 3s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .animate-fade-in-up {
            animation: fadeInUp 1s ease forwards;
        }

        .animate-fade-in {
            animation: fadeIn 1s ease forwards;
        }

        .delay-300 { animation-delay: 0.3s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1300 { animation-delay: 1.3s; }
        .delay-1500 { animation-delay: 1.5s; }

        /* Scroll Animation */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Card Hover */
        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* Image Hover */
        .img-hover {
            overflow: hidden;
        }

        .img-hover img {
            transition: transform 0.5s ease;
        }

        .img-hover:hover img {
            transform: scale(1.1);
        }

        /* Scroll to top */
        .scroll-to-top {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Typewriter Animation */
        .typewriter {
            display: inline;
        }

        .typewriter-cursor {
            display: inline-block;
            animation: blink 0.8s infinite;
            font-weight: 300;
            margin-left: 4px;
        }

        .typewriter-cursor.hidden {
            display: none;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Before & After Comparison Carousel */
        .comparison-carousel {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .comparison-viewport {
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
        }

        .comparison-track {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .comparison-slide {
            min-width: 100%;
            position: relative;
            aspect-ratio: 1 / 1;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        .comparison-after {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .comparison-before-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            overflow: hidden;
        }

        .comparison-before {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            max-width: none;
            object-fit: cover;
        }

        .comparison-handle {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .comparison-handle-line {
            flex: 1;
            width: 3px;
            background: #c9a962;
            box-shadow: 0 0 8px rgba(201, 169, 98, 0.5);
        }

        .comparison-handle-circle {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #c9a962;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 12px rgba(201, 169, 98, 0.5);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            flex-shrink: 0;
        }

        .comparison-handle-circle svg {
            width: 16px;
            height: 16px;
        }

        .comparison-label {
            position: absolute;
            bottom: 16px;
            padding: 6px 16px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            color: white;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 1px;
            border-radius: 20px;
            z-index: 5;
            pointer-events: none;
            opacity: 0.9;
        }

        .comparison-label-before {
            left: 16px;
        }

        .comparison-label-after {
            right: 16px;
        }

        /* Carousel Dots */
        .comparison-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .comparison-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #d1d5db;
            border: none;
            padding: 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .comparison-dot.active {
            background: #c9a962;
            transform: scale(1.3);
        }

        /* Interaction hint */
        .comparison-hint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            color: white;
            font-size: 14px;
            border-radius: 24px;
            z-index: 15;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .comparison-slide.interactive .comparison-hint {
            opacity: 0;
        }

        .comparison-slide:not(.interactive) .comparison-hint {
            opacity: 0;
        }

        /* Cursor change when interactive */
        .comparison-slide.interactive {
            cursor: ew-resize;
        }

        @media (max-width: 768px) {
            .comparison-carousel {
                max-width: 100%;
            }

            .comparison-handle-circle {
                width: 40px;
                height: 40px;
            }

            .comparison-handle-circle svg {
                width: 14px;
                height: 14px;
            }

            .comparison-label {
                font-size: 11px;
                padding: 4px 12px;
                bottom: 12px;
            }

            .comparison-label-before {
                left: 12px;
            }

            .comparison-label-after {
                right: 12px;
            }
        }
    </style>
</head>
<body class="font-sans antialiased bg-white text-gray-900 overflow-x-hidden">

    <!-- Hero Section with Video Background -->
    <section id="hero" class="relative h-screen flex items-center justify-center overflow-hidden">
        <!-- Video Background -->
        <div class="video-container">
            <div id="youtube-player"></div>
            <div class="video-overlay"></div>
        </div>

        <!-- Hero Content -->
        <div class="relative z-10 text-center px-4">
            <div class="mb-8 opacity-0 animate-fade-in delay-300">
                <div class="h-20 w-20 md:h-24 md:w-24 mx-auto rounded-2xl bg-black overflow-hidden flex items-center justify-center p-3 shadow-2xl shadow-white/10 animate-logo-float">
                    <img src="image/logo.png" alt="MOAR DESIGN" class="w-full h-full object-contain">
                </div>
            </div>
            <h1 class="text-[clamp(1.75rem,7vw,2.25rem)] md:text-6xl lg:text-7xl text-white mb-6 tracking-wide whitespace-nowrap" style="font-family: 'Noto Serif KR', Georgia, serif; font-weight: 500;">
                <span id="typewriter-1" class="typewriter"></span><span id="cursor-1" class="typewriter-cursor">|</span>
            </h1>

            <p class="text-2xl md:text-3xl lg:text-4xl text-white/90 mb-12" style="font-family: 'Noto Serif KR', Georgia, serif; font-weight: 500;">
                <span id="typewriter-2" class="typewriter"></span><span id="cursor-2" class="typewriter-cursor hidden">|</span>
            </p>

            <div id="hero-badge" class="inline-block opacity-0">
                <img src="image/ìŠ¤íƒ ë‹¤ë“œë²„íŠ¼.png" alt="ì˜¤ëŠ˜ì˜ì§‘ ìŠ¤íƒ ë‹¤ë“œ ì—…ì²´" class="h-12 md:h-14 lg:h-16">
            </div>
        </div>

        <!-- Scroll Indicator -->
        <button onclick="scrollToSection('about')" class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 text-white cursor-pointer opacity-0 animate-fade-in delay-1300">
            <i data-lucide="chevron-down" class="w-10 h-10" style="animation: bounce 2s infinite;"></i>
        </button>
    </section>

    <!-- About Section -->
    <section id="about" class="py-24 px-4 bg-white">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6 tracking-tight">
                    MOAR DESIGN
                </h2>
                <p class="text-xl md:text-2xl text-gray-600 mb-4" style="font-family: 'Noto Serif KR', Georgia, serif;">
                    ê³µê°„ì„ ë§Œë“œëŠ” ê±´, ê²°êµ­ ì‚¬ëŒì…ë‹ˆë‹¤
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-12 items-center mb-20">
                <div class="reveal">
                    <img src="image/moar_logo.png" alt="MOAR DESIGN Philosophy" class="w-full rounded-lg shadow-2xl">
                </div>

                <div class="space-y-6 reveal">
                    <div>
                        <h3 class="text-2xl md:text-3xl mb-4" style="font-family: 'Noto Serif KR', Georgia, serif; font-weight: 500;">
                            ì±…ì„ì‹œê³µê³¼ íˆ¬ëª…í•œ ì¸í…Œë¦¬ì–´ì˜ ì•½ì†
                        </h3>
                        <p class="text-gray-700 leading-relaxed text-lg">
                            ëª¨ì•„ë¥´ ë””ìì¸ì€ ë‹¨ìˆœíˆ ì¸í…Œë¦¬ì–´ë¥¼ ì‹œê³µí•˜ëŠ” íšŒì‚¬ê°€ ì•„ë‹ˆë¼,
                            ê³ ê°ì˜ ì‚¶ì„ ì¡´ì¤‘í•˜ê³  ê³µê°„ì— ë‹´ê¸´ ì´ì•¼ê¸°ë¥¼ í•¨ê»˜ ë§Œë“¤ì–´ê°€ëŠ” íŒŒíŠ¸ë„ˆì…ë‹ˆë‹¤.
                        </p>
                    </div>

                    <div>
                        <p class="text-gray-700 leading-relaxed text-lg">
                            ì „ë‹´ PM(ì´ê´„ ë””ìì´ë„ˆ)ê³¼ í˜„ì¥ ì†Œì¥ì´ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì§ì ‘ ì°¸ì—¬í•˜ë©°,
                            ì˜¤ëŠ˜ì˜ì§‘ ìŠ¤íƒ ë‹¤ë“œ ê¸°ë°˜ì˜ íˆ¬ëª…í•œ ê²¬ì ê³¼ ë„¤ì´ë²„ ë°´ë“œë¥¼ í†µí•œ
                            ì‹¤ì‹œê°„ ì†Œí†µ ì‹œìŠ¤í…œì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.
                        </p>
                    </div>

                    <div class="border-l-4 border-black pl-6 py-4">
                        <p class="text-gray-700 leading-relaxed text-lg italic" style="font-family: 'Noto Serif KR', Georgia, serif;">
                            ì €í¬ëŠ” ë‹¨ìˆœíˆ ì €ë ´í•œ ê²¬ì ì„ ì œì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
                            ì •í™•í•œ ìì¬, ëª…í™•í•œ ê³µì •, íˆ¬ëª…í•œ ë¹„ìš©ìœ¼ë¡œ<br>
                            ê³ ê°ë‹˜ì´ ì´í•´í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê²¬ì ì„œë¥¼ ì œê³µí•©ë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-24 px-4 bg-gray-50">
        <div class="container mx-auto max-w-7xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    WHY MOAR DESIGN
                </h2>
                <p class="text-xl md:text-2xl text-gray-600">
                    ëª¨ì•„ë¥´ ë””ìì¸ì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ì´ìœ 
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white p-8 rounded-lg shadow-lg card-hover text-center reveal">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-black text-white rounded-full mb-6">
                        <i data-lucide="award" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-medium mb-4">ì˜¤ëŠ˜ì˜ì§‘ ìŠ¤íƒ ë‹¤ë“œ</h3>
                    <p class="text-gray-600 leading-relaxed">ê²€ì¦ëœ í’ˆì§ˆê³¼ ì„œë¹„ìŠ¤ë¡œ ì˜¤ëŠ˜ì˜ì§‘ ìŠ¤íƒ ë‹¤ë“œ ì—…ì²´ë¡œ ì„ ì •ë˜ì—ˆìŠµë‹ˆë‹¤</p>
                </div>

                <div class="bg-white p-8 rounded-lg shadow-lg card-hover text-center reveal">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-black text-white rounded-full mb-6">
                        <i data-lucide="users" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-medium mb-4">ì „ë¬¸ ì‹œê³µíŒ€</h3>
                    <p class="text-gray-600 leading-relaxed">10ë…„ ì´ìƒì˜ ê²½í—˜ì„ ê°€ì§„ ì „ë¬¸ ì‹œê³µíŒ€ì´ ì§ì ‘ ì‹œê³µí•©ë‹ˆë‹¤</p>
                </div>

                <div class="bg-white p-8 rounded-lg shadow-lg card-hover text-center reveal">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-black text-white rounded-full mb-6">
                        <i data-lucide="clock" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-medium mb-4">ì •í™•í•œ ì¼ì •ê´€ë¦¬</h3>
                    <p class="text-gray-600 leading-relaxed">ì²´ê³„ì ì¸ ê³µì • ê´€ë¦¬ë¡œ ì•½ì†ëœ ì¼ì •ì„ ì •í™•í•˜ê²Œ ì§€í‚µë‹ˆë‹¤</p>
                </div>

                <div class="bg-white p-8 rounded-lg shadow-lg card-hover text-center reveal">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-black text-white rounded-full mb-6">
                        <i data-lucide="shield-check" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-medium mb-4">ì™„ë²½í•œ A/S</h3>
                    <p class="text-gray-600 leading-relaxed">ì‹œê³µ í›„ì—ë„ ì§€ì†ì ì¸ ê´€ë¦¬ì™€ ì™„ë²½í•œ A/Së¥¼ ì œê³µí•©ë‹ˆë‹¤</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Process Section -->
    <section id="process" class="py-24 px-4 bg-gradient-to-b from-gray-50 to-white">
        <div class="container mx-auto max-w-7xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    DESIGN PROCESS
                </h2>
                <p class="text-xl md:text-2xl text-gray-600">
                    ì²´ê³„ì ì¸ í”„ë¡œì„¸ìŠ¤ë¡œ ì™„ë²½í•œ ê³µê°„ì„ ì™„ì„±í•©ë‹ˆë‹¤
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-8 mb-20">
                <div class="bg-white p-8 rounded-lg shadow-lg card-hover reveal">
                    <div class="text-sm text-gray-500 mb-2 tracking-wider">Step 1</div>
                    <h3 class="text-2xl md:text-3xl font-medium mb-4">ë¯¸íŒ…</h3>
                    <p class="text-gray-600 leading-relaxed">ê³ ê°ë‹˜ì˜ ìš”êµ¬ ì‚¬í•­ê³¼ ì˜ˆì‚°ì„ ê³ ë ¤í•œ ë§ì¶¤ ì»¨ì„¤íŒ…</p>
                </div>

                <div class="bg-white p-8 rounded-lg shadow-lg card-hover reveal">
                    <div class="text-sm text-gray-500 mb-2 tracking-wider">Step 2</div>
                    <h3 class="text-2xl md:text-3xl font-medium mb-4">ê°€ê²¬ì  ë° í˜„ì¥ë°©ë¬¸</h3>
                    <p class="text-gray-600 leading-relaxed">í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ê°œëµì  ê²¬ì  í™•ì¸ í›„ í˜„ì¥ ì‹¤ì¸¡</p>
                </div>

                <div class="bg-white p-8 rounded-lg shadow-lg card-hover reveal">
                    <div class="text-sm text-gray-500 mb-2 tracking-wider">Step 3</div>
                    <h3 class="text-2xl md:text-3xl font-medium mb-4">ë””ìì¸ ë° ê¸°íš</h3>
                    <p class="text-gray-600 leading-relaxed">ë””ìì¸ ì‹¤ì¸¡ íŒŒì¼ë“¤ë¡œ ë””ìì¸ìš”ì†Œ, 3Dì‘ì—… ì§„í–‰</p>
                </div>

                <div class="bg-white p-8 rounded-lg shadow-lg card-hover reveal">
                    <div class="text-sm text-gray-500 mb-2 tracking-wider">Step 4</div>
                    <h3 class="text-2xl md:text-3xl font-medium mb-4">ê³„ì•½ ë° ì‹œê³µ</h3>
                    <p class="text-gray-600 leading-relaxed">ìµœì¢… ê³„ì•½ í›„ ê³µì •ê´€ë¦¬ì™€ ë³€ìˆ˜ì— ëŒ€í•œ ì§€ì†ì ì¸ ì†Œí†µ</p>
                </div>
            </div>

            <div class="reveal">
                <img src="image/ì§„í–‰ê³¼ì •.png" alt="ëª¨ì•„ë¥´ ë””ìì¸ ì§„í–‰ ê³¼ì • - ë„¤ì´ë²„ ë°´ë“œ ê°€ì´ë“œ, ì‹œìŠ¤í…œ í”„ë¡œì„¸ìŠ¤, ì‹¤ì œ ì‹œê³µ í›„ê¸°" class="w-full mx-auto rounded-lg shadow-xl">
            </div>

            <div class="grid md:grid-cols-2 gap-8 mt-16 reveal">
                <div class="bg-black rounded-lg overflow-hidden shadow-2xl img-hover">
                    <img src="image/1ì°¨ë„ë©´.jpg" alt="Design Process Details" class="w-full h-full object-cover">
                </div>

                <div class="bg-white rounded-lg overflow-hidden shadow-2xl img-hover">
                    <img src="image/3díˆ¬ì‹œë„.jpg" alt="3D Visualization" class="w-full h-full object-cover">
                </div>
            </div>
        </div>
    </section>

    <!-- Before & After Comparison Section -->
    <section id="comparison" class="py-24 px-4 bg-white">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    DESIGN to REALITY
                </h2>
                <p class="text-xl md:text-2xl text-gray-600">
                    3D ë””ìì¸ ë„ë©´ì´ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì‹œê³µë˜ì—ˆëŠ”ì§€ ë¹„êµí•´ ë³´ì„¸ìš”
                </p>
            </div>

            <div class="comparison-carousel reveal" id="comparisonCarousel">
                <div class="comparison-viewport">
                    <div class="comparison-track" id="comparisonTrack">
                        <!-- Slide 1: ì£¼ë°© -->
                        <div class="comparison-slide" data-comparison>
                            <img src="image/ëª¨ë¸ë§_ê²°ê³¼.jpeg" alt="ì£¼ë°© ì‹œê³µ ê²°ê³¼" class="comparison-after" draggable="false">
                            <div class="comparison-before-wrapper">
                                <img src="image/ëª¨ë¸.jpeg" alt="ì£¼ë°© 3D ëª¨ë¸ë§" class="comparison-before" draggable="false">
                            </div>
                            <div class="comparison-handle">
                                <div class="comparison-handle-line"></div>
                                <div class="comparison-handle-circle">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                </div>
                                <div class="comparison-handle-line"></div>
                            </div>
                            <div class="comparison-label comparison-label-before">3D ëª¨ë¸ë§</div>
                            <div class="comparison-label comparison-label-after">ì‹œê³µ ê²°ê³¼</div>
                        </div>

                        <!-- Slide 2: ê±°ì‹¤+ì£¼ë°© -->
                        <div class="comparison-slide" data-comparison>
                            <img src="image/ëª¨ë¸ë§2_ê²°ê³¼.jpeg" alt="ê±°ì‹¤+ì£¼ë°© ì‹œê³µ ê²°ê³¼" class="comparison-after" draggable="false">
                            <div class="comparison-before-wrapper">
                                <img src="image/ëª¨ë¸ë§2.jpeg" alt="ê±°ì‹¤+ì£¼ë°© 3D ëª¨ë¸ë§" class="comparison-before" draggable="false">
                            </div>
                            <div class="comparison-handle">
                                <div class="comparison-handle-line"></div>
                                <div class="comparison-handle-circle">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                </div>
                                <div class="comparison-handle-line"></div>
                            </div>
                            <div class="comparison-label comparison-label-before">3D ëª¨ë¸ë§</div>
                            <div class="comparison-label comparison-label-after">ì‹œê³µ ê²°ê³¼</div>
                        </div>

                        <!-- Slide 3: ìˆ˜ë‚©ì¥ -->
                        <div class="comparison-slide" data-comparison>
                            <img src="image/ëª¨ë¸ë§3_ê²°ê³¼.jpeg" alt="ìˆ˜ë‚©ì¥ ì‹œê³µ ê²°ê³¼" class="comparison-after" draggable="false">
                            <div class="comparison-before-wrapper">
                                <img src="image/ëª¨ë¸ë§3.jpeg" alt="ìˆ˜ë‚©ì¥ 3D ëª¨ë¸ë§" class="comparison-before" draggable="false">
                            </div>
                            <div class="comparison-handle">
                                <div class="comparison-handle-line"></div>
                                <div class="comparison-handle-circle">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                </div>
                                <div class="comparison-handle-line"></div>
                            </div>
                            <div class="comparison-label comparison-label-before">3D ëª¨ë¸ë§</div>
                            <div class="comparison-label comparison-label-after">ì‹œê³µ ê²°ê³¼</div>
                        </div>
                    </div>
                </div>
                <div class="comparison-dots" id="comparisonDots">
                    <button class="comparison-dot active" data-index="0"></button>
                    <button class="comparison-dot" data-index="1"></button>
                    <button class="comparison-dot" data-index="2"></button>
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section id="portfolio" class="py-24 px-4 bg-black text-white">
        <div class="container mx-auto max-w-7xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    PORTFOLIO
                </h2>
                <p class="text-xl md:text-2xl text-gray-400">
                    ì˜¤ëŠ˜ì˜ì§‘ì—ì„œ ë§Œë‚˜ëŠ” ëª¨ì•„ë¥´ ë””ìì¸ì˜ ì‘í’ˆë“¤
                </p>
            </div>

            <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
            <div id="portfolio-loading" class="flex justify-center items-center py-20">
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>
            </div>

            <!-- í¬íŠ¸í´ë¦¬ì˜¤ ê·¸ë¦¬ë“œ -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 hidden" id="portfolio-grid"></div>

            <div class="text-center mt-12 reveal">
                <a href="https://ohou.se/experts/myhome/23827218" target="_blank" class="inline-flex items-center gap-2 px-8 py-4 bg-white text-black font-medium rounded-full hover:bg-gray-100 transition-colors">
                    ë” ë§ì€ í¬íŠ¸í´ë¦¬ì˜¤ ë³´ê¸°
                    <i data-lucide="external-link" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Photo Gallery Section -->
    <section id="gallery" class="py-24 px-4 bg-gray-50">
        <div class="container mx-auto max-w-7xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    GALLERY
                </h2>
                <p class="text-xl md:text-2xl text-gray-600">
                    ëª¨ì•„ë¥´ ë””ìì¸ì˜ ì‹œê³µ í˜„ì¥
                </p>
            </div>

            <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
            <div id="gallery-loading" class="flex justify-center items-center py-20">
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black"></div>
            </div>

            <!-- ì‚¬ì§„ ê·¸ë¦¬ë“œ -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 hidden" id="gallery-grid"></div>

            <div class="text-center mt-12 reveal">
                <a href="https://ohou.se/experts/myhome/23827218?tab=2" target="_blank" class="inline-flex items-center gap-2 px-8 py-4 bg-black text-white font-medium rounded-full hover:bg-gray-800 transition-colors">
                    ëª¨ë“  ì‹œê³µ ì‚¬ì§„ ë³´ê¸°
                    <i data-lucide="external-link" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="py-24 px-4 bg-white">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    REVIEWS
                </h2>
                <p class="text-xl md:text-2xl text-gray-600">
                    ê³ ê°ë‹˜ë“¤ì˜ ìƒìƒí•œ í›„ê¸°
                </p>
            </div>

            <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
            <div id="reviews-loading" class="flex justify-center items-center py-20">
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black"></div>
            </div>

            <!-- ë¦¬ë·° ê·¸ë¦¬ë“œ -->
            <div class="grid md:grid-cols-2 gap-8 hidden overflow-hidden" id="reviews-grid"></div>

            <div class="text-center mt-12 reveal">
                <a href="https://ohou.se/experts/myhome/23827218?tab=3" target="_blank" class="inline-flex items-center gap-2 px-8 py-4 bg-black text-white font-medium rounded-full hover:bg-gray-800 transition-colors">
                    ëª¨ë“  ë¦¬ë·° ë³´ê¸°
                    <i data-lucide="external-link" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 px-4 bg-white">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl lg:text-6xl mb-6">
                    CONTACT US
                </h2>
                <p class="text-xl md:text-2xl text-gray-600">
                    ì–¸ì œë“ ì§€ í¸í•˜ê²Œ ë¬¸ì˜í•´ ì£¼ì„¸ìš”
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-12 mb-16">
                <div class="space-y-8 reveal">
                    <div>
                        <h3 class="text-2xl md:text-3xl font-medium mb-6">ì—°ë½ì²˜ ì •ë³´</h3>

                        <div class="space-y-4">
                            <a href="tel:0507-1383-2168" class="flex items-start gap-4 group">
                                <i data-lucide="phone" class="w-6 h-6 mt-1 text-gray-600"></i>
                                <div>
                                    <div class="text-sm text-gray-500 mb-1">ì „í™”</div>
                                    <span class="text-xl group-hover:text-gray-600 transition-colors">0507-1383-2168</span>
                                </div>
                            </a>

                            <a href="mailto:moar_design@naver.com" class="flex items-start gap-4 group">
                                <i data-lucide="mail" class="w-6 h-6 mt-1 text-gray-600"></i>
                                <div>
                                    <div class="text-sm text-gray-500 mb-1">ì´ë©”ì¼</div>
                                    <span class="text-xl group-hover:text-gray-600 transition-colors">moar_design@naver.com</span>
                                </div>
                            </a>

                            <div class="flex items-start gap-4">
                                <i data-lucide="map-pin" class="w-6 h-6 mt-1 text-gray-600"></i>
                                <div>
                                    <div class="text-sm text-gray-500 mb-1">ì£¼ì†Œ</div>
                                    <div class="text-lg">
                                        ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ í™©ìƒˆìš¸ë¡œ 200ë²ˆê¸¸<br>
                                        34-6ì¸µ 604í˜¸ ëª¨ì•„ë¥´ ë””ìì¸
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="reveal">
                    <h3 class="text-2xl md:text-3xl font-medium mb-6">ì†Œì…œ ë¯¸ë””ì–´</h3>

                    <div class="space-y-4">
                        <a href="https://ohou.se/experts/myhome/23827218" target="_blank" class="flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center justify-center w-12 h-12 bg-black text-white rounded-lg group-hover:scale-110 transition-transform">
                                <span class="text-2xl">ğŸ </span>
                            </div>
                            <span class="text-lg">ì˜¤ëŠ˜ì˜ì§‘</span>
                        </a>

                        <a href="https://www.instagram.com/moar_design_/" target="_blank" class="flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center justify-center w-12 h-12 bg-black text-white rounded-lg group-hover:scale-110 transition-transform">
                                <i data-lucide="instagram" class="w-6 h-6"></i>
                            </div>
                            <span class="text-lg">Instagram</span>
                        </a>

                        <a href="https://blog.naver.com/moar_design" target="_blank" class="flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center justify-center w-12 h-12 bg-black text-white rounded-lg group-hover:scale-110 transition-transform">
                                <span class="text-xl font-bold">N</span>
                            </div>
                            <span class="text-lg">ë„¤ì´ë²„ ë¸”ë¡œê·¸</span>
                        </a>

                        <a href="https://www.youtube.com/channel/UC6TUwkMlkTCU-mACQG6NfiA" target="_blank" class="flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center justify-center w-12 h-12 bg-black text-white rounded-lg group-hover:scale-110 transition-transform">
                                <i data-lucide="youtube" class="w-6 h-6"></i>
                            </div>
                            <span class="text-lg">YouTube</span>
                        </a>

                        <a href="https://map.naver.com/p/entry/place/2046266274" target="_blank" class="flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group">
                            <div class="flex items-center justify-center w-12 h-12 bg-black text-white rounded-lg group-hover:scale-110 transition-transform">
                                <i data-lucide="map-pin" class="w-6 h-6"></i>
                            </div>
                            <span class="text-lg">ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤</span>
                        </a>
                    </div>
                </div>
            </div>

            <div class="text-center p-8 bg-gray-50 rounded-lg reveal">
                <p class="text-lg text-gray-700 mb-4">
                    <strong>ì˜ì—…ì‹œê°„</strong>
                </p>
                <p class="text-gray-600">
                    í‰ì¼: 09:00 - 18:00<br>
                    ì£¼ë§ ë° ê³µíœ´ì¼: ì˜ˆì•½ì œ ìš´ì˜
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white py-12 px-4">
        <div class="container mx-auto max-w-6xl">
            <div class="grid md:grid-cols-3 gap-8 mb-8">
                <div>
                    <img src="image/moar_logo.png" alt="MOAR DESIGN" class="h-12 mb-4">
                    <p class="text-gray-400 text-sm">
                        ê°ì„±ì„ í’ˆì€ í•˜ì´ì—”ë“œ<br>
                        ëª¨ì•„ë¥´ ë””ìì¸ì…ë‹ˆë‹¤
                    </p>
                </div>

                <div>
                    <h4 class="text-lg font-medium mb-4">ì—°ë½ì²˜</h4>
                    <div class="space-y-2 text-sm text-gray-400">
                        <p>ì „í™”: 0507-1383-2168</p>
                        <p>ì´ë©”ì¼: moar_design@naver.com</p>
                        <p>ì£¼ì†Œ: ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ í™©ìƒˆìš¸ë¡œ 200ë²ˆê¸¸ 34-6ì¸µ 604í˜¸</p>
                    </div>
                </div>

                <div>
                    <h4 class="text-lg font-medium mb-4">ì†Œì…œ ë¯¸ë””ì–´</h4>
                    <div class="flex gap-4">
                        <a href="https://www.instagram.com/moar_design_/" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-colors">
                            <i data-lucide="instagram" class="w-5 h-5"></i>
                        </a>
                        <a href="https://www.youtube.com/channel/UC6TUwkMlkTCU-mACQG6NfiA" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-colors">
                            <i data-lucide="youtube" class="w-5 h-5"></i>
                        </a>
                        <a href="https://map.naver.com/p/entry/place/2046266274" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-colors">
                            <i data-lucide="map-pin" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-800 pt-8 text-center text-sm text-gray-400">
                <p>&copy; 2025 MOAR DESIGN. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scroll-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="scroll-to-top fixed bottom-6 right-6 w-12 h-12 bg-black text-white rounded-full shadow-lg flex items-center justify-center z-50 hover:bg-gray-800 transition-colors">
        <i data-lucide="chevron-up" class="w-6 h-6"></i>
    </button>

    <!-- Scripts -->
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // ============================================
        // Typewriter Animation
        // ============================================
        const typewriterTexts = [
            { element: 'typewriter-1', text: 'ê°ì„±ì„ í’ˆì€ í•˜ì´ì—”ë“œ', delay: 500 },
            { element: 'typewriter-2', text: 'ëª¨ì•„ë¥´ ë””ìì¸ì…ë‹ˆë‹¤', delay: 0 }
        ];

        async function typeWriter(elementId, text, speed = 80) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            for (let i = 0; i < text.length; i++) {
                element.textContent += text.charAt(i);
                await new Promise(resolve => setTimeout(resolve, speed));
            }
        }

        async function startTypewriterAnimation() {
            // ì²« ë²ˆì§¸ ì¤„ íƒ€ì´í•‘
            await new Promise(resolve => setTimeout(resolve, 800)); // ì´ˆê¸° ë”œë ˆì´
            await typeWriter('typewriter-1', 'ê°ì„±ì„ í’ˆì€ í•˜ì´ì—”ë“œ', 100);
            
            // ì»¤ì„œë¥¼ ì²« ë²ˆì§¸ ì¤„ì—ì„œ ë‘ ë²ˆì§¸ ì¤„ë¡œ ì´ë™
            document.getElementById('cursor-1').classList.add('hidden');
            document.getElementById('cursor-2').classList.remove('hidden');
            
            // ì ì‹œ ëŒ€ê¸° í›„ ë‘ ë²ˆì§¸ ì¤„ íƒ€ì´í•‘
            await new Promise(resolve => setTimeout(resolve, 300));
            await typeWriter('typewriter-2', 'ëª¨ì•„ë¥´ ë””ìì¸ì…ë‹ˆë‹¤.', 100);
            
            // ë°°ì§€ í˜ì´ë“œì¸ (ì»¤ì„œëŠ” ê³„ì† ê¹œë¹¡ì„)
            await new Promise(resolve => setTimeout(resolve, 500));
            document.getElementById('hero-badge').style.animation = 'fadeIn 1s ease forwards';
        }

        // í˜ì´ì§€ ë¡œë“œ í›„ íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
        window.addEventListener('load', startTypewriterAnimation);

        // YouTube Background Player
        const tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        let player;
        const VIDEO_START = 11;  // ì‹œì‘ ì‹œê°„ (ì´ˆ)
        const VIDEO_END = 120;   // ì¢…ë£Œ ì‹œê°„ (ì´ˆ) = 2ë¶„
        
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                videoId: 'RWzq_QU_hoM',
                playerVars: {
                    autoplay: 1,
                    controls: 0,
                    showinfo: 0,
                    modestbranding: 1,
                    fs: 0,
                    cc_load_policy: 0,
                    iv_load_policy: 3,
                    autohide: 1,
                    mute: 1,
                    start: VIDEO_START
                },
                events: {
                    onReady: function(event) {
                        event.target.mute();
                        event.target.playVideo();
                    },
                    onStateChange: function(event) {
                        // ì¬ìƒ ì¤‘ì¼ ë•Œ ì¢…ë£Œ ì‹œê°„ ì²´í¬
                        if (event.data === YT.PlayerState.PLAYING) {
                            checkVideoTime();
                        }
                        // ì˜ìƒì´ ëë‚˜ë©´ ì‹œì‘ ì§€ì ìœ¼ë¡œ ëŒì•„ê°€ì„œ ì¬ìƒ
                        if (event.data === YT.PlayerState.ENDED) {
                            player.seekTo(VIDEO_START, true);
                            player.playVideo();
                        }
                    }
                }
            });
        }
        
        // íŠ¹ì • êµ¬ê°„ ë°˜ë³µì„ ìœ„í•œ ì‹œê°„ ì²´í¬
        function checkVideoTime() {
            if (player && player.getCurrentTime) {
                const currentTime = player.getCurrentTime();
                if (currentTime >= VIDEO_END) {
                    player.seekTo(VIDEO_START, true);
                }
            }
            // 0.5ì´ˆë§ˆë‹¤ ì²´í¬
            setTimeout(checkVideoTime, 500);
        }

        // Scroll to Section
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Scroll Reveal Animation
        function reveal() {
            const reveals = document.querySelectorAll('.reveal');
            const windowHeight = window.innerHeight;

            reveals.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                const elementVisible = 150;

                if (elementTop < windowHeight - elementVisible) {
                    el.classList.add('active');
                }
            });
        }

        // Scroll to Top Button
        function handleScrollToTop() {
            const scrollToTopBtn = document.getElementById('scroll-to-top');
            if (window.scrollY > 500) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        }

        // Event Listeners
        window.addEventListener('scroll', () => {
            reveal();
            handleScrollToTop();
        });

        // Initial reveal check
        reveal();

        // ============================================
        // Before & After Comparison Carousel
        // ============================================
        function initComparisonCarousel() {
            const track = document.getElementById('comparisonTrack');
            const dots = document.querySelectorAll('.comparison-dot');
            const slides = document.querySelectorAll('.comparison-slide');
            const slideCount = slides.length; // 3
            let currentIndex = 0;
            let autoTimer = null;
            let isUserInteracting = false;

            // --- Infinite loop: clone first and last slides ---
            const firstClone = slides[0].cloneNode(true);
            const lastClone = slides[slideCount - 1].cloneNode(true);
            firstClone.setAttribute('data-clone', 'first');
            lastClone.setAttribute('data-clone', 'last');
            track.appendChild(firstClone);
            track.insertBefore(lastClone, track.firstChild);

            // All slides including clones
            const allSlides = track.querySelectorAll('.comparison-slide');
            // Start at index 1 (because index 0 is the last-clone)
            let trackIndex = 1;
            track.style.transition = 'none';
            track.style.transform = 'translateX(-' + (trackIndex * 100) + '%)';

            function goToTrackIndex(idx, animate) {
                if (animate) {
                    track.style.transition = 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                } else {
                    track.style.transition = 'none';
                }
                trackIndex = idx;
                track.style.transform = 'translateX(-' + (trackIndex * 100) + '%)';
            }

            function updateDots() {
                dots.forEach((d, i) => d.classList.toggle('active', i === currentIndex));
            }

            // Handle seamless loop jump after transition
            track.addEventListener('transitionend', () => {
                // Jumped past last real slide â†’ snap to first real
                if (trackIndex === slideCount + 1) {
                    currentIndex = 0;
                    goToTrackIndex(1, false);
                }
                // Jumped before first real slide â†’ snap to last real
                if (trackIndex === 0) {
                    currentIndex = slideCount - 1;
                    goToTrackIndex(slideCount, false);
                }
                updateDots();
            });

            function goToSlide(index) {
                currentIndex = index;
                goToTrackIndex(index + 1, true);
                updateDots();
            }

            function nextSlide() {
                currentIndex++;
                if (currentIndex > slideCount - 1) currentIndex = 0;
                goToTrackIndex(trackIndex + 1, true);
                updateDots();
            }

            // Dot navigation
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const idx = parseInt(dot.dataset.index);
                    stopAutoAnimation();
                    goToSlide(idx);
                    startAutoAnimationForSlide(idx);
                });
            });

            // --- Sync before image widths ---
            function syncAllImageWidths() {
                allSlides.forEach(slide => {
                    const beforeImg = slide.querySelector('.comparison-before');
                    if (beforeImg) {
                        beforeImg.style.width = slide.offsetWidth + 'px';
                    }
                });
            }
            syncAllImageWidths();
            window.addEventListener('resize', syncAllImageWidths);
            allSlides.forEach(slide => {
                const imgs = slide.querySelectorAll('img');
                imgs.forEach(img => img.addEventListener('load', syncAllImageWidths));
            });

            // --- Before/After slider per slide ---
            function updateSliderPosition(slide, percent) {
                const wrapper = slide.querySelector('.comparison-before-wrapper');
                const handle = slide.querySelector('.comparison-handle');
                wrapper.style.width = percent + '%';
                handle.style.left = percent + '%';
            }

            function getPercent(slide, clientX) {
                const rect = slide.getBoundingClientRect();
                let x = Math.max(0, Math.min(clientX - rect.left, rect.width));
                return (x / rect.width) * 100;
            }

            // --- User drag interaction ---
            let dragSlide = null;

            function onPointerDown(slide, clientX) {
                isUserInteracting = true;
                dragSlide = slide;
                slide.classList.add('interactive');
                stopAutoAnimation();
                updateSliderPosition(slide, getPercent(slide, clientX));
            }

            function onPointerMove(clientX) {
                if (!dragSlide) return;
                updateSliderPosition(dragSlide, getPercent(dragSlide, clientX));
            }

            function onPointerUp() {
                if (!dragSlide) return;
                const slide = dragSlide;
                dragSlide = null;
                // After user releases, wait a moment then resume auto
                setTimeout(() => {
                    slide.classList.remove('interactive');
                    isUserInteracting = false;
                    resetSliderAndResume(currentIndex);
                }, 1500);
            }

            allSlides.forEach(slide => {
                slide.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    onPointerDown(slide, e.clientX);
                });
                slide.addEventListener('touchstart', (e) => {
                    onPointerDown(slide, e.touches[0].clientX);
                }, { passive: true });
            });

            document.addEventListener('mousemove', (e) => {
                if (dragSlide) { e.preventDefault(); onPointerMove(e.clientX); }
            });
            document.addEventListener('touchmove', (e) => {
                if (dragSlide) onPointerMove(e.touches[0].clientX);
            }, { passive: true });
            document.addEventListener('mouseup', onPointerUp);
            document.addEventListener('touchend', onPointerUp);

            // --- Auto animation: 2 round-trips then next slide ---
            // Animates the bar: 50% â†’ 15% â†’ 85% â†’ 15% â†’ 85% â†’ 50% (2 full sweeps)
            function animateBar(slide, onDone) {
                const wrapper = slide.querySelector('.comparison-before-wrapper');
                const handle = slide.querySelector('.comparison-handle');
                // Keyframes: position, duration-to-reach-it
                const keyframes = [
                    { to: 15, dur: 2100 },
                    { to: 85, dur: 3000 },
                    { to: 50, dur: 2100 },
                ];
                let current = 50;
                let step = 0;
                let startTime = null;
                let startVal = current;
                let cancelled = false;

                function tick(ts) {
                    if (cancelled || isUserInteracting) return;
                    if (!startTime) startTime = ts;
                    const elapsed = ts - startTime;
                    const { to, dur } = keyframes[step];
                    const progress = Math.min(elapsed / dur, 1);
                    // Ease in-out
                    const ease = progress < 0.5
                        ? 2 * progress * progress
                        : 1 - Math.pow(-2 * progress + 2, 2) / 2;
                    current = startVal + (to - startVal) * ease;
                    wrapper.style.width = current + '%';
                    handle.style.left = current + '%';

                    if (progress < 1) {
                        requestAnimationFrame(tick);
                    } else {
                        step++;
                        if (step < keyframes.length) {
                            startVal = current;
                            startTime = null;
                            requestAnimationFrame(tick);
                        } else {
                            if (onDone) onDone();
                        }
                    }
                }

                requestAnimationFrame(tick);
                return () => { cancelled = true; };
            }

            let cancelCurrentAnim = null;

            function stopAutoAnimation() {
                if (cancelCurrentAnim) { cancelCurrentAnim(); cancelCurrentAnim = null; }
                if (autoTimer) { clearTimeout(autoTimer); autoTimer = null; }
            }

            function resetSliderAndResume(slideIndex) {
                // Reset current slide bar to 50%
                const realSlides = Array.from(allSlides);
                const slide = realSlides[slideIndex + 1]; // +1 because of prepended clone
                updateSliderPosition(slide, 50);
                // Also reset clones if applicable
                if (slideIndex === 0) {
                    updateSliderPosition(realSlides[realSlides.length - 1], 50); // first clone at end
                }
                if (slideIndex === slideCount - 1) {
                    updateSliderPosition(realSlides[0], 50); // last clone at start
                }
                startAutoAnimationForSlide(slideIndex);
            }

            function startAutoAnimationForSlide(slideIndex) {
                stopAutoAnimation();
                if (isUserInteracting) return;

                const realSlides = Array.from(allSlides);
                const slide = realSlides[slideIndex + 1];

                // Small delay before starting the sweep
                autoTimer = setTimeout(() => {
                    if (isUserInteracting) return;
                    cancelCurrentAnim = animateBar(slide, () => {
                        cancelCurrentAnim = null;
                        if (isUserInteracting) return;
                        // Pause briefly then go to next slide
                        autoTimer = setTimeout(() => {
                            if (isUserInteracting) return;
                            nextSlide();
                            // After transition, start animation on the new slide
                            autoTimer = setTimeout(() => {
                                if (isUserInteracting) return;
                                startAutoAnimationForSlide(currentIndex);
                            }, 700);
                        }, 800);
                    });
                }, 500);
            }

            // --- Start ---
            startAutoAnimationForSlide(0);
        }

        initComparisonCarousel();

        // ============================================
        // ì˜¤ëŠ˜ì˜ì§‘ ë°ì´í„° ë¡œë”© (ë¡œì»¬ JSON íŒŒì¼)
        // ê°±ì‹ : ./update-data.sh ì‹¤í–‰
        // ============================================
        
        const DATA_PATH = {
            summary: 'data/summary.json',
            portfolio: 'data/portfolio.json',
            photos: 'data/photos.json'
        };

        // ìˆ«ì í¬ë§·íŒ… í•¨ìˆ˜
        function formatNumber(num) {
            return num.toLocaleString('ko-KR');
        }


        // ============================================
        // í¬íŠ¸í´ë¦¬ì˜¤ ì¹´ë“œ HTML ìƒì„±
        // ============================================
        function createPortfolioCard(item) {
            const title = item.title.split('_')[0].split('ï½œ')[0].split(',')[0].trim();
            const subtitle = item.title.includes('_') ? item.title.split('_').slice(1).join('_') : 
                           item.title.includes('ï½œ') ? item.title.split('ï½œ').slice(1).join('ï½œ') :
                           item.title.includes(',') ? item.title.split(',').slice(1).join(',').trim() : '';
            
            return `
                <a href="https://contents.ohou.se/projects/${item.id}" target="_blank" 
                   class="group relative overflow-hidden rounded-lg aspect-[4/3] cursor-pointer reveal img-hover">
                    <img src="${item.image}" alt="${title}" 
                         class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                         loading="lazy">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <div class="absolute bottom-0 left-0 right-0 p-6">
                            <div class="flex items-center gap-4 text-sm text-gray-300 mb-2">
                                <span class="flex items-center gap-1">
                                    <i data-lucide="eye" class="w-4 h-4"></i> ${formatNumber(item.stat?.viewCount || 0)}
                                </span>
                                <span class="flex items-center gap-1">
                                    <i data-lucide="bookmark" class="w-4 h-4"></i> ${formatNumber(item.stat?.scrapCount || 0)}
                                </span>
                            </div>
                            <h3 class="text-xl font-medium mb-2">${title}</h3>
                            ${subtitle ? `<p class="text-gray-300 text-sm">${subtitle}</p>` : ''}
                        </div>
                    </div>
                </a>
            `;
        }

        // í¬íŠ¸í´ë¦¬ì˜¤ ë Œë”ë§
        function renderPortfolio(data) {
            const grid = document.getElementById('portfolio-grid');
            const loading = document.getElementById('portfolio-loading');
            
            const portfolioItems = data.slice(0, 6);
            grid.innerHTML = portfolioItems.map(item => createPortfolioCard(item)).join('');
            
            loading.classList.add('hidden');
            grid.classList.remove('hidden');
            
            lucide.createIcons();
            reveal();
        }

        // ============================================
        // ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ ë Œë”ë§
        // ============================================
        function createPhotoCard(item) {
            return `
                <a href="https://contents.ohou.se/contents/card_collections/${item.id}" target="_blank" 
                   class="group relative overflow-hidden rounded-lg aspect-square cursor-pointer">
                    <img src="${item.image}" alt="ì‹œê³µ ì‚¬ì§„" 
                         class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                         loading="lazy">
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors duration-300"></div>
                </a>
            `;
        }

        function renderGallery(data) {
            const grid = document.getElementById('gallery-grid');
            const loading = document.getElementById('gallery-loading');
            
            const photos = data.slice(0, 12);
            grid.innerHTML = photos.map(item => createPhotoCard(item)).join('');
            
            loading.classList.add('hidden');
            grid.classList.remove('hidden');
            
            reveal();
        }

        // ============================================
        // ë¦¬ë·° ë Œë”ë§
        // ============================================
        function createReviewCard(review) {
            const hasImages = review.images && review.images.length > 0;
            const description = review.description.length > 250 
                ? review.description.substring(0, 250) + '...' 
                : review.description;
            
            return `
                <div class="bg-gray-50 rounded-xl p-6 reveal overflow-hidden">
                    ${hasImages ? `
                        <div class="flex gap-2 mb-4 overflow-x-auto pb-2">
                            ${review.images.slice(0, 4).map(img => `
                                <img src="${img}" alt="ì‹œê³µ í›„ê¸°" 
                                     class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                            `).join('')}
                            ${review.images.length > 4 ? `
                                <div class="w-20 h-20 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center text-gray-500 text-sm">
                                    +${review.images.length - 4}
                                </div>
                            ` : ''}
                        </div>
                    ` : ''}
                    <div class="flex items-center gap-2 mb-3">
                        <i data-lucide="message-circle" class="w-5 h-5 text-gray-400"></i>
                        <span class="text-sm text-gray-500">ê³ ê° í›„ê¸°</span>
                    </div>
                    <p class="text-gray-700 leading-relaxed text-sm whitespace-pre-line break-words">${description}</p>
                </div>
            `;
        }

        function renderReviews(reviews) {
            const grid = document.getElementById('reviews-grid');
            const loading = document.getElementById('reviews-loading');
            
            const reviewItems = reviews.slice(0, 4);
            grid.innerHTML = reviewItems.map(review => createReviewCard(review)).join('');
            
            loading.classList.add('hidden');
            grid.classList.remove('hidden');
            
            reveal();
        }

        // ============================================
        // ë¡œì»¬ JSON íŒŒì¼ì—ì„œ ë°ì´í„° ë¡œë“œ
        // ============================================
        async function loadOhouseData() {
            try {
                // Summary (í†µê³„ + ë¦¬ë·°)
                const summaryResponse = await fetch(DATA_PATH.summary);
                if (summaryResponse.ok) {
                    const summaryData = await summaryResponse.json();
                    console.log('âœ… Summary ë°ì´í„° ë¡œë“œ ì„±ê³µ');
                    
                    if (summaryData.reviews && summaryData.reviews.length > 0) {
                        renderReviews(summaryData.reviews);
                    }
                }
            } catch (error) {
                console.warn('âš ï¸ Summary ë¡œë“œ ì‹¤íŒ¨:', error.message);
                document.getElementById('reviews-loading').classList.add('hidden');
            }

            try {
                // Portfolio
                const portfolioResponse = await fetch(DATA_PATH.portfolio);
                if (portfolioResponse.ok) {
                    const portfolioData = await portfolioResponse.json();
                    console.log('âœ… Portfolio ë°ì´í„° ë¡œë“œ ì„±ê³µ:', portfolioData.contents.length + 'ê°œ');
                    renderPortfolio(portfolioData.contents);
                }
            } catch (error) {
                console.warn('âš ï¸ Portfolio ë¡œë“œ ì‹¤íŒ¨:', error.message);
                document.getElementById('portfolio-loading').classList.add('hidden');
            }

            try {
                // Photos
                const photosResponse = await fetch(DATA_PATH.photos);
                if (photosResponse.ok) {
                    const photosData = await photosResponse.json();
                    console.log('âœ… Photos ë°ì´í„° ë¡œë“œ ì„±ê³µ:', photosData.contents.length + 'ê°œ');
                    renderGallery(photosData.contents);
                }
            } catch (error) {
                console.warn('âš ï¸ Photos ë¡œë“œ ì‹¤íŒ¨:', error.message);
                document.getElementById('gallery-loading').classList.add('hidden');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        loadOhouseData();
    </script>
</body>
</html>
